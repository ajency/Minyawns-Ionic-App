<ion-view hide-back-button="false">

	<ion-nav-title>
		<img src='./img/logo.png' height='30px'/>
    </ion-nav-title>

	<div class="bar bar-subheader navheader">
		<div class="row">
			<div class="col col-100">
				<h1 class="job-title">
				<ul id="ticker01">
				<li ><a>{{singleJob.title}}</a></li>
				</ul>
				</h1>
				<span class="time-log">{{singleJob.startDate}}</span>
			</div>
		</div>

		<span class="zoomIn badge badge-assertive" ng-click="App.goBack();"><i class="ion-reply"></i></span>
	</div>

	<ion-content
		scrollbar-y="false" 
		delegate-handle="mainScroll"
		sticky-sub-header>

		<ion-spinner ng-if="view.mainLoader" class="aj-spinner"> </ion-spinner>

		<div ng-if="!view.mainLoader">

			<div class="list list-inset single-card sm-padding">
				<div class="item">
					
					<div class="row job-details bounceInLeft">
						<div class="col">
							<i class="ion-clock"></i>
						</div>
						<div class="col col-90">
							<div class="details">
								<span class="time">
									{{singleJob.startTime}}{{singleJob.startMeridiem}} - {{singleJob.endTime}}{{singleJob.endMeridiem}}
								</span>
							</div>
						</div>
					</div>

					<div class="row job-details bounceInLeft">
						<div class="col">
							<i class="ion-flag"></i>
						</div>
						<div class="col col-90">
							<div class="details">
								<span class="time">{{singleJob.jobLocation}}</span>
							</div>
						</div>
					</div>

					<div class="row job-details bounceInLeft">
						<div class="col">
							<i class="ion-cash"></i>
						</div>
						<div class="col col-90">
							<div class="details">
								<span class="time">$ {{singleJob.wages}}</span>
							</div>
						</div>
					</div>

					<div class="row job-details bounceInLeft">
						<div class="col">
							<i class="ion-person"></i>
						</div>
						<div class="col col-90">
							<div class="details">
								<span class="time">
									{{singleJob.appliedCount}} Applied {{singleJob.requiredCount}} Needed
								</span>
							</div>
						</div>
						<div>
							
						</div>
					</div>

					<div class="row job-details bounceInLeft">
						<div class="col">
							<i class="ion-compose"></i>
						</div>
						<div class="col col-90">
							<div class="details">
								<span class="time" style="line-height: 0.8rem;">{{singleJob.jobDetails}}</span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div>
				<div class="single-job-apply cssSlideUp">
					<div>
						<div class="row">
							<div class="col" ng-click="loginToApply()">
								<div ng-hide="view.applyLoader" class="helper-text">{{view.helperText}}</div>

								<div ng-show="view.applyLoader" class="detail-loader">
									<ion-spinner class="aj-apply-spinner"> </ion-spinner>
									{{view.actionText}}...
								</div>
							</div>

							<div class="col col-20" ng-show="view.cameraIcon" >
								<div 
									class="pic-upload" 
									ng-click="takePicture();" 
									on-hold="onIconHold();"
									ng-class="getProfileImageClass()">
									<div class="overlay"></div>
									<img ng-src="{{view.profileImgSrc}}"/>
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</div>
		
			<div class="list list-inset more-details">
				<div class="item">
					<div class="row job-details">
						<div class="col">
							<h4 class="detail-header">Posted By</h4>
							<div class="job-snippets author">{{singleJob.postedBy}}</div>
						</div>

						<div class="col">
							<h4 class="detail-header">Category</h4>
							<div class="job-snippets">{{singleJob.category}}</div>
						</div>

						<div class="col">
							<h4 class="detail-header">Tags</h4>
							<div class="job-snippets">{{singleJob.jobTags}}</div>
						</div>
					</div>
				</div>
			</div>

			<div class="minyawn-list">

				<h4 class="detail-header">Minyawns who have applied</h4>

				<!-- No One Applied For job-->
				<ion-list ng-if="!view.minyawnsApplied" class="alone">
						
					<div class="padding loader" ng-show="minion.loader">
						<i class="icon ion-loading-c"></i> 
					</div>
							
					<div ng-hide="minion.loader" class="error-minion">
						<div class="minyawn-view">
							<div class="minyawn-pic">
								<img src="./img/applicants.png"> 
							</div>
							<h5 class="minyawn-name no-wrap">Be the first to apply</h5>
							<div class="row ">
								<div class="col up text-center">
								No one has been hired for this job yet. <br>Apply and get hired
								</div>
							</div>
						</div>
					</div>
				
				</ion-list>

				<ion-list class="row">
					<ion-item class="minyawn col col-50"
						ng-controller="ApplicantController"
						ng-init="minion={loader:true};"
						ng-repeat="applicant in singleJob.applicants">

							<div class="padding loader" ng-show="minion.loader">
								<i class="icon ion-loading-c"></i>
							</div>

							<div ng-hide="minion.loader">
								<div class="minyawn-view">
									<div class="minyawn-pic">
										<div ng-bind-html="minion.details.user_image"></div>
									</div>

									<button 
										class="button button-clear button-positive btn-icon"
										ng-click="openFacebookLink(minion.details.facebook_link)">
											<i class="ion-social-facebook"></i>
									</button>
									
									<button 
										class="button button-clear button-calm btn-icon"
										ng-click="openLinkedinLink(minion.details.linkedin)">
											<i class="ion-social-linkedin"></i>
									</button>
										
									<h6 class="minyawn-name">{{minion.details.name}}</h6>
									<h6>{{minion.details.college}}</h6>
									<h6>{{minion.details.major}}</h6>
									<h6>{{minion.details.user_email}}</h6>

									<div class="row rating">
										<div class="col up">
											<i class="icon ion-thumbsup"></i> 
											<span class="count">{{minion.details.rating_positive}}</span>
										</div>
										<div class="col down">
											<i class="icon ion-thumbsdown"></i> 
											<span class="count">{{minion.details.rating_negative}}</span>
										</div>
									</div>
									
								</div>
							</br></br>
							</div>

					</ion-item>
				</ion-list>

			</div>
		
		</div>

	</ion-content>

</ion-view>


